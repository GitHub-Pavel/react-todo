(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{11:function(t,e,s){},12:function(t,e,s){},20:function(t,e,s){},21:function(t,e,s){},22:function(t,e,s){},23:function(t,e,s){"use strict";s.r(e);var i=s(0),n=s(2),a=s.n(n),l=s(13),c=s.n(l),o=(s(20),s(21),s(14)),r=s(7),u=s(3),d=s(4),h=s(1),b=s(6),j=s(5),p=(s(22),function(t){Object(b.a)(s,t);var e=Object(j.a)(s);function s(t){var i;return Object(u.a)(this,s),(i=e.call(this,t)).state={value:"",historyText:""},i.resetInput=i.resetInput.bind(Object(h.a)(i)),i.back=i.back.bind(Object(h.a)(i)),i.addList=i.addList.bind(Object(h.a)(i)),i.handleChange=i.handleChange.bind(Object(h.a)(i)),i}return Object(d.a)(s,[{key:"resetInput",value:function(t){var e=this;t.preventDefault(),this.props.list.map((function(t,s){if(t.edit)return e.props.list[s].text=""})),this.setState((function(t){return{value:""}}))}},{key:"back",value:function(t){var e=this;t.preventDefault(),this.props.list.map((function(t,s){t.edit&&(e.props.list[s].text=e.state.historyText)})),this.setState((function(t){return{value:"",historyText:""}})),this.props.disEdit()}},{key:"addList",value:function(t){t.preventDefault();var e,s=!1,i=Object(r.a)(this.props.list);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.edit&&(s=n.edit)}}catch(u){i.e(u)}finally{i.f()}if(s)return this.setState((function(t){return{value:""}})),this.props.disEdit(),!1;var a,l=new FormData(t.target),c=Object(r.a)(l);try{for(c.s();!(a=c.n()).done;){var o=a.value;this.props.listPush({keyIndex:this.props.list.length,text:o[1],condition:!1,edit:!1})}}catch(u){c.e(u)}finally{c.f()}localStorage.setItem("list",JSON.stringify(this.props.list)),localStorage.setItem("listDone",JSON.stringify(this.props.listDone)),this.resetInput(t)}},{key:"handleChange",value:function(t){var e=this;this.props.list.map((function(s,i){if(s.edit)return e.props.list[i].text=t.target.value})),this.setState((function(e){return{value:t.target.value}}))}},{key:"render",value:function(){var t,e="",s=!1,n=Object(r.a)(this.props.list);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.edit&&(e=a.text,s=a.edit,""===this.state.historyText&&(this.state.historyText=a.text))}}catch(l){n.e(l)}finally{n.f()}return Object(i.jsxs)("form",{className:"tasks-form",onSubmit:this.addList,children:[Object(i.jsxs)("label",{className:"tasks-form__label",children:[Object(i.jsx)("input",{className:"input tasks-form__input",type:"text",name:"taskname",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",required:"required",value:s?e:this.state.value,onChange:this.handleChange}),Object(i.jsx)("button",{className:"tasks-form__times",onClick:this.resetInput,title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:"\xd7"}),Object(i.jsx)("button",{className:"tasks-form__back ".concat(s?"tasks-form__back--active":""),onClick:this.back,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}),Object(i.jsx)("button",{className:"btn tasks-form__submit",type:"submit",children:s?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})}}]),s}(n.Component)),f=(s(11),function(t){Object(b.a)(s,t);var e=Object(j.a)(s);function s(t){var i;return Object(u.a)(this,s),(i=e.call(this,t)).inputChange=i.inputChange.bind(Object(h.a)(i)),i.deleteList=i.deleteList.bind(Object(h.a)(i)),i}return Object(d.a)(s,[{key:"inputChange",value:function(t){this.props.editCond(t,!0)}},{key:"deleteList",value:function(t){this.props.delete(t,!0)}},{key:"render",value:function(){return Object(i.jsxs)("li",{className:"tasks-list__item","data-id":this.props.keyIndex,children:[Object(i.jsxs)("label",{className:"check tasks-list__label",children:[Object(i.jsx)("input",{className:"check__input visually-hidden tasks-list__input",type:"checkbox",value:this.props.keyIndex,onChange:this.inputChange}),Object(i.jsx)("span",{className:"check__box tasks-list__box--inactive"}),Object(i.jsx)("span",{className:"check__text task-list__text",children:this.props.text})]}),Object(i.jsx)("button",{onClick:this.props.editFunc,className:"tasks-list__edit",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(i.jsx)("button",{className:"tasks-list__remove",onClick:this.deleteList,title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:"\xd7"})]})}}]),s}(n.Component));s(12);function O(t){var e=t.list.map((function(e,s){return!e.edit&&Object(i.jsx)(f,{keyIndex:e.keyIndex,text:e.text,condition:e.condition,edit:e.edit,delete:t.removeFunc,editCond:t.editCondition,editFunc:t.editFunc},s)}));return Object(i.jsxs)("section",{className:"section",children:[Object(i.jsx)("h2",{children:"\u0412\u0441\u0435 \u0432\u0430\u0448\u0438 \u0437\u0430\u0434\u0430\u0447\u0438"}),Object(i.jsx)("ul",{className:"tasks-list",children:0===e.length?Object(i.jsx)("p",{children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447..."}):e})]})}var v=function(t){Object(b.a)(s,t);var e=Object(j.a)(s);function s(t){var i;return Object(u.a)(this,s),(i=e.call(this,t)).deleteList=i.deleteList.bind(Object(h.a)(i)),i}return Object(d.a)(s,[{key:"deleteList",value:function(t){this.props.delete(t,!1)}},{key:"render",value:function(){return Object(i.jsxs)("li",{className:"tasks-list__item",children:[Object(i.jsxs)("label",{className:"check tasks-list__label",children:[Object(i.jsx)("input",{className:"check__input visually-hidden tasks-list__input",type:"checkbox",value:this.props.keyIndex,onChange:this.deleteList,checked:!0}),Object(i.jsx)("span",{className:"check__box"}),Object(i.jsx)("span",{className:this.props.condition?"text--through check__text task-list__text":"check__text task-list__text",children:this.props.text})]}),Object(i.jsx)("button",{className:"tasks-list__remove",onClick:this.deleteList,title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445",children:"\xd7"})]})}}]),s}(n.Component);function k(t){var e=t.listDone.map((function(e,s){return!e.edit&&Object(i.jsx)(v,{keyIndex:e.keyIndex,text:e.text,condition:e.condition,edit:e.edit,delete:t.removeFunc,editCond:t.editCondition},s)})),s=0===t.listDone.length?"":"\u0420\u0435\u0448\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438";return Object(i.jsxs)("section",{className:"section",children:[Object(i.jsx)("h2",{children:s}),Object(i.jsx)("ul",{className:"tasks-list",children:e})]})}var m=function(t){Object(b.a)(s,t);var e=Object(j.a)(s);function s(t){var i;return Object(u.a)(this,s),i=e.call(this,t),void 0===localStorage.list&&localStorage.setItem("list",JSON.stringify([])),void 0===localStorage.listDone&&localStorage.setItem("listDone",JSON.stringify([])),i.state={list:JSON.parse(localStorage.getItem("list")),listDone:JSON.parse(localStorage.getItem("listDone"))},i.listPush=i.listPush.bind(Object(h.a)(i)),i.editList=i.editList.bind(Object(h.a)(i)),i.editCondition=i.editCondition.bind(Object(h.a)(i)),i.editFunc=i.editFunc.bind(Object(h.a)(i)),i.disEdit=i.disEdit.bind(Object(h.a)(i)),i}return Object(d.a)(s,[{key:"editFunc",value:function(t){var e,s=this.state.list,i=Object(r.a)(s);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.edit=!1,n.keyIndex===+t.target.closest(".tasks-list__item").getAttribute("data-id")&&(n.edit=!0)}}catch(a){i.e(a)}finally{i.f()}this.setState((function(t){return{list:s}})),localStorage.setItem("list",JSON.stringify(this.state.list))}},{key:"disEdit",value:function(){var t,e=this.state.list,s=Object(r.a)(e);try{for(s.s();!(t=s.n()).done;){t.value.edit=!1}}catch(i){s.e(i)}finally{s.f()}this.setState((function(t){return{list:e}})),localStorage.setItem("list",JSON.stringify(this.state.list))}},{key:"listPush",value:function(t){var e=this;this.setState((function(s){return{list:[].concat(Object(o.a)(e.state.list),[t])}})),localStorage.setItem("list",JSON.stringify(this.state.list))}},{key:"editList",value:function(t,e){var s=e?this.state.list:this.state.listDone,i=this.state.list,n=[],a=t.target.closest(".tasks-list__item").querySelector(".tasks-list__input").value;s.map((function(t,e){return t.keyIndex!==+a?n.push(t):i.push(t)})),this.setState((function(t){return e?{list:n}:{listDone:n,list:i}})),localStorage.setItem("list",JSON.stringify(this.state.list)),localStorage.setItem("listDone",JSON.stringify(this.state.listDone))}},{key:"editCondition",value:function(t,e){var s,i=e?this.state.list:this.state.listDone,n=e?this.state.listDone:this.state.list,a=t.target.closest(".tasks-list__item").querySelector(".tasks-list__input").value,l=[],c=Object(r.a)(i);try{for(c.s();!(s=c.n()).done;){var o=s.value;o.keyIndex===+a?(o.condition=e,n.push(o)):l.push(o)}}catch(u){c.e(u)}finally{c.f()}this.setState((function(t){return{list:l,listDone:n}})),localStorage.setItem("list",JSON.stringify(this.state.list)),localStorage.setItem("listDone",JSON.stringify(this.state.listDone))}},{key:"render",value:function(){return localStorage.setItem("list",JSON.stringify(this.state.list)),localStorage.setItem("listDone",JSON.stringify(this.state.listDone)),Object(i.jsx)("section",{className:"section",children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(p,{list:this.state.list,listPush:this.listPush,disEdit:this.disEdit}),Object(i.jsx)(O,{list:this.state.list,removeFunc:this.editList,editCondition:this.editCondition,editFunc:this.editFunc}),Object(i.jsx)(k,{listDone:this.state.listDone,removeFunc:this.editList,editCondition:this.editCondition})]})})}}]),s}(n.Component);var x=function(){return Object(i.jsx)("div",{className:"app",children:Object(i.jsx)(m,{})})},y=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,24)).then((function(e){var s=e.getCLS,i=e.getFID,n=e.getFCP,a=e.getLCP,l=e.getTTFB;s(t),i(t),n(t),a(t),l(t)}))};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root")),y()}},[[23,1,2]]]);
//# sourceMappingURL=main.e5c468f1.chunk.js.map